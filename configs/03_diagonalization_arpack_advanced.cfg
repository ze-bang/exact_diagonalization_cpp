# =============================================================================
# ARPACK ADVANCED - Multi-Attempt Adaptive Strategy
# =============================================================================
#
# For systems with difficult convergence. Automatically tries multiple
# strategies including shift-invert fallback.
#
# Usage: ./ED configs/03_diagonalization_arpack_advanced.cfg
#
# =============================================================================

[System]
hamiltonian_dir = ./my_system
num_sites = 16
spin_length = 0.5
use_fixed_sz = true
n_up = 8

[Diagonalization]
method = ARPACK_ADVANCED
num_eigenvalues = 10
max_iterations = 10000
tolerance = 1e-10
compute_eigenvectors = true

[ARPACK]
verbose = true                          # Detailed output
which = SR                              # SR=Smallest Real (ground state), LR=Largest Real
ncv = -1                                # Auto-determine Lanczos vectors
max_restarts = 3                        # Maximum number of restarts
ncv_growth = 1.5                        # Growth factor for ncv on restart
auto_enlarge_ncv = true                 # Automatically increase ncv if needed
two_phase_refine = true                 # Use two-phase refinement
relaxed_tol = 1e-6                      # Relaxed tolerance for first phase
shift_invert = false                    # Enable shift-invert mode
sigma = 0.0                             # Shift value for shift-invert
auto_switch_shift_invert = true         # Auto-switch to shift-invert if SM fails
switch_sigma = 0.0                      # Sigma for auto-switch
adaptive_inner_tol = true               # Adaptive tolerance for inner iterations
inner_tol_factor = 1e-2                 # Inner tolerance = outer_tol * factor
inner_tol_min = 1e-14                   # Minimum inner tolerance
inner_max_iter = 300                    # Maximum inner iterations

[Workflow]
run_standard = true

[Output]
output_dir = ./output_arpack
