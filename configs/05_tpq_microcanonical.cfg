# =============================================================================
# MICROCANONICAL TPQ (mTPQ) - Thermal Properties for Large Systems
# =============================================================================
#
# Uses power method with energy shift to generate thermal states.
# Best for large systems where FTLM is too expensive.
#
# Usage: ./ED configs/05_tpq_microcanonical.cfg
#
# =============================================================================

[System]
hamiltonian_dir = ./my_system
num_sites = 20
spin_length = 0.5
sublattice_size = 4
use_fixed_sz = true
n_up = 10

[Diagonalization]
method = mTPQ

[TPQ]
# Number of random initial states for thermal averaging
num_samples = 10

# mTPQ-specific parameters
tpq_max_steps = 10000                   # Maximum evolution steps
tpq_measurement_interval = 100          # Steps between measurements
tpq_energy_shift = 1e5                  # Large energy shift for normalization

# Output temperature grid
temp_min = 0.01
temp_max = 20.0
num_temp_bins = 100

# Continue from previous run (useful for long simulations)
tpq_continue = false
tpq_continue_sample = 0                 # 0 = auto-detect
tpq_continue_beta = 0.0                 # 0 = use saved value

# TPQ Observable Options
# save_thermal_states: Save TPQ states at target β values for post-processing (e.g., TPQ_DSSF)
# compute_spin_correlations: Compute ⟨Si⟩ and ⟨Si·Sj⟩ correlations during evolution
save_thermal_states = false
compute_spin_correlations = false

[Output]
output_dir = ./output_mtpq
